/*********************************************************************************************/

【*】 程序简介 
-工程名称：stepper-位置速度双环控制实现-位置式PID
-实验平台: 野火STM32 F407 开发板
-MDK版本：5.30
-ST固件库版本：1.8.0

【 ！】功能简介：
使用位置式PID对步进电机进行位置速度双环控制控制，在不同的目标值之间自动运行
学习目的：学会基于位置式PID的步进电机位置速度双环控制控制基本原理

按下按键1启动电机，按下按键2停止电机
按下按键3增大位置，按下按键4减小位置

也可通过上位机<野火多功能调试助手>----PID调试助手,查看现象或进行调试.
在PID调试助手中,打开开发板对应的串口,单击下方启动即可.

【 ！】实验操作：
下载本程序，复位开发板即可。

【 ！！】注意事项：
部分例程中,上位机设置PID目标值时,未做幅值限制,若出现积分饱和为正常现象.

/*********************************************************************************************/

【*】 引脚分配

步进电机驱动器的连线接到开发板的步进电机接口1，共阳方式
  PUL+ <---> VCOM
  PUL- <---> PI5
  DIR+ <---> VCOM
  DIR- <---> PE1
  ENA+ <---> VCOM
  ENA- <---> PE0
  
编码器连线接到开发板的编码器接口
  VCC   红 <---> VENC
  EGND  黑 <---> GND
  A     蓝 <---> PC6
  B     绿 <---> PC7
  Z     黄 <---> PC8
  屏 蔽 线 <---> GND

/*********************************************************************************************/

【*】 时钟

A.晶振：
-外部高速晶振：25MHz
-RTC晶振：32.768KHz

B.各总线运行时钟：
-系统时钟 = SYCCLK = AHB1 = 168MHz
-APB2 = 84MHz 
-APB1 = 42MHz

C.浮点运算单元：
  不使用


/*********************************************************************************************/

【*】 版本

-程序版本：1.0
-发布日期：2020-09

-版本更新说明：首次发布

/*********************************************************************************************/

【*】 联系我们

-野火论坛    :http://www.firebbs.cn
-淘宝店铺    :https://fire-stm32.taobao.com

/*********************************************************************************************/